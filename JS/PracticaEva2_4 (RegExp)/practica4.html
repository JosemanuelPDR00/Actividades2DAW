<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>codigo 11</title>
    <script src="http://momentjs.com/downloads/moment.min.js"></script>
</head>
<body>
    <script>
        //EXPRESION REGULAR DE LA FECHA
        let fecha1=/(([0][1-9])|([12][0-9])|([3][01]))\/(([0][1-9])|([1][0-2]))\/(([1][9][0-9]{2})|([2]([0-9]){3}))/;
        let fecha2=/(([0][1-9])|([12][0-9])|([3][01]))\/(([0][1-9])|([1][0-2]))\/(([1][9][0-9]{2})|([2]([0-9]){3}))/;

        //BUCLE PARA COMPROBAR DATOS HASTA QUE LA FECHA INTRODUCIDA SEA VALIDA
        let bucle=true;
        while(bucle){
            if(fecha1.test(fechaIntro1=prompt('Escribe una primera fecha.'))){
                bucle=false;
            }else{
                alert('Introduce la fecha con formato dd/mm/yyyy');
            }
        }

        //BUCLE PARA COMPROBAR DATOS HASTA QUE LA FECHA INTRODUCIDA SEA VALIDA
        bucle=true;
        while(bucle){
            if(fecha2.test(fechaIntro2=prompt('Escribe una segunda fecha.'))){
                bucle=false;
            }else{
                alert('Introduce la fecha con formato dd/mm/yyyy');
            }
        }

        //TIEMPO EN MILISEGUNDOS DE UN DIA
        var diaEnMilisegundos=86400000;
        
        //LA LIBRERIA MOMENT COGEMOS EL TIEMPO EN MILISEGUNDOS CON ESE FORMATO
        var primeraFecha = moment(fechaIntro1, "DD/MM/YYYY");
        var segundaFecha = moment(fechaIntro2, "DD/MM/YYYY");

        //RESTAMOS LAS FECHAS EN MILISEGUNDOS
        var diferenciaFecha = Math.abs(segundaFecha-primeraFecha);

        //DIVIDIMOS EL RESULTADO DE MILISEGUNDOS Y LO DIVIDIMOS PARA PASARLO A DIAS
        alert(diferenciaFecha/diaEnMilisegundos);




    </script>
</body>
</html>